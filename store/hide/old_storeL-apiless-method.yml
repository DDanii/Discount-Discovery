steps:
  - stepParameters:
      method: CreateArray
      name: urls
  - stepParameters:
      method: Literal
      data: https://www.lidl.hu
      destination: domain
  - stepParameters:
      method: Literal
      data: div.AHeroStageGroup__Body-Current_Sales_Week
      destination: heroGroup
  - stepParameters:
      method: Literal
      data: a.AHeroStageItems__Item--Wrapper
      destination: heroItem
  - stepParameters:
      method: Literal
      data: div.AProductGridbox__GridTilePlaceholder
      destination: productBox
  - stepParameters:
      method: Literal
      data: a
      destination: a
  - stepParameters:
      method: Literal
      data: https://www.lidl.hu/c/lidl-plus-ajanlataink/
  - stepParameters:
      method: Fetch
  - stepParameters:
      method: ParseHTML
  - stepParameters:
      method: HTMLQuerySelector
      selector: heroGroup
  - stepParameters:
      method: ToString
  - stepParameters:
      method: ParseHTML
  - stepParameters:
      method: HTMLQuerySelector
      selector: heroItem
      all: true
  - stepParameters: 
      method: SetProp
      destination: heroItems
  - stepParameters:
      method: ForEach
      source: heroItems
      steps:
        - stepParameters:
            method: ToString
        - stepParameters:
            method: ParseHTML
        - stepParameters:
            method: HTMLQuerySelector
            selector: a
        - stepParameters:
            method: SetProp
            source: data
            sourceProp: attrs
            destination: tmp
        - stepParameters: 
            method: SetProp
            source: tmp
            sourceProp: href
        - stepParameters:
            method: Concat
            first: domain
        - stepParameters:
            method: Fetch
        - stepParameters:
            method: ParseHTML
        - stepParameters:
            method: HTMLQuerySelector
            selector: productBox
            all: true
        - stepParameters: 
            method: SetProp
            destination: productBoxes
        - stepParameters: 
            method: ForEach
            source: productBoxes
            steps:
                - stepParameters: 
                    method: SetProp
                    source: data
                    sourceProp: attrs
                    destination: tmp
                - stepParameters: 
                    method: SetProp
                    source: tmp
                    sourceProp: image
                    destination: product
                    destinationProp: image
                - stepParameters: 
                    method: SetProp
                    source: tmp
                    sourceProp: fulltitle
                    destination: product
                    destinationProp: name
                - stepParameters: 
                    method: SetProp
                    source: tmp
                    sourceProp: productid
                    destination: product
                    destinationProp: id
                - stepParameters: 
                    method: SetProp
                    source: tmp
                    sourceProp: data-grid-data
                - stepParameters: 
                    method: ParseJSON
                - stepParameters: 
                    method: SetProp
                    sourceProp: price
                    destination: np
                - stepParameters: 
                    method: SetProp 
                    sourceProp: lidlPlus
                - stepParameters: 
                    method: SetProp 
                    sourceProp: 0
                - stepParameters: 
                    method: SetProp 
                    sourceProp: price
                - stepParameters: 
                    method: Spread
                    first: np
                - stepParameters: 
                    method: SetProp
                    sourceProp: price
                    destination: product
                    destinationProp: price
                - stepParameters: 
                    method: PushToArray
                    array: DDParsedProducts
                    data: product
